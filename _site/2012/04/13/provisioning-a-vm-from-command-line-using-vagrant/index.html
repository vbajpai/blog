
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Provisioning a VM from Command Line using Vagrant</title>
   <meta name="author" content="Vaibhav Bajpai" />
   <link href="http://feeds.feedburner.com/feedname" rel="alternate" title="your title" type="application/atom+xml" />

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/assets/themes/tom/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/assets/themes/tom/css/screen.css" type="text/css" media="screen, projection" />

   <!-- Typekit -->
   <script type="text/javascript" src="http://use.typekit.com/jpd0pfm.js"></script>
   <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body>

  <div class="site">
    <div class="title">
      <a href="/">The Geek Debauchery</a>
    </div>

    
<div id="post">
  <h1>Provisioning a VM from Command Line using Vagrant</h1>
  <p class="meta">
    13 April 2012 
    
  </p>
  <p><img alt='vagrant logo' src='http://ajohnstone.com/wp-content/uploads/2011/12/vagrant_chilling.png' /></p>

<blockquote>
<p>Web developers use virtual environments every day with their web applications. From EC2 and Rackspace Cloud to specialized solutions such as EngineYard and Heroku, virtualization is the tool of choice for easy deployment and infrastructure management. Vagrant aims to take those very same principles and put them to work in the heart of the application lifecycle. By providing easy to configure, lightweight, reproducible, and portable virtual machines targeted at development environments, Vagrant helps maximize the productivity and flexibility of you and your team.</p>
</blockquote>

<p>Here is a quick getting started with Vagrant:</p>

<p>Install <a href='https://www.virtualbox.org/wiki/Downloads'>Oracle VirtualBox &#8594;</a></p>

<p>Install <a href='http://downloads.vagrantup.com/'>Vagrant &#8594;</a></p>

<p>Add a <a href='http://vagrantbox.es/'>Base Box &#8594;</a></p>

<pre><code>@local: $ vagrant box add $BOXNAME $BOXURL</code></pre>

<p>where <code>$BOXNAME</code> is a box name and <code>$BOXURL</code> is a url to a <code>.box</code> file.<br />The boxes are saved in <code>~/.vagrant.d/boxes</code></p>

<p><span>Additional Commands</span> List and/or Remove boxes:</p>

<pre><code>@local: $ vagrant box list
@local: $ vagrant box remove $BOXNAME</code></pre>

<p><code>remove</code> removes the .box file from <code>~/.vagrant.d/boxes</code></p>

<p>Initalize a VM in a project.</p>

<pre><code>@local: $ git init foo/
	
@local: [foo] $ vagrant init $BOXNAME</code></pre>

<p><code>init</code> creates a <code>Vagrantfile</code> in the root of the project that describe the VM characteristics.</p>

<p><span>Additional Commands</span> Destroy the initialized VM:</p>

<pre><code>@local: [foo] $ vagrant destroy</code></pre>

<p>Start the VM and remotely login.</p>

<pre><code>@local: [foo] $ vagrant up
@local: [foo] $ vagrant ssh</code></pre>

<p><span>Additional Commands</span> Suspend and Resume the VM:</p>

<pre><code>@local: [foo] $ vagrant suspend
@local: [foo] $ vagrant resume</code></pre>

<p><span>Additional Commands</span> Shutdown the VM:</p>

<pre><code>@local: [foo] $ vagrant halt</code></pre>

<p>Vagrant VM characteristics</p>

<p>username/password: vagrant/vagrant<br />sudo access does not require a password</p>

<pre><code>@vagrant: [\vagrant] &lt;-- this is the same as foo with r/w access</code></pre>

<p>Monitor the VM</p>

<pre><code>@local: [foo] $ vagrant status</code></pre>

<p>Vagrantfile:</p>

<p>Switch to Bridged Mode:</p>

<pre><code># uncomment
config.vm.network :bridged</code></pre>

<p>Port-forwarding:</p>

<pre><code># uncomment
config.vm.forward_port 80, 8080	</code></pre>

<p>Reload the Vagrantfile</p>

<pre><code>@local: [foo] $ vagrant reload</code></pre>

<p>Package the VM as BOX file for distribution</p>

<pre><code>@local: [foo] $ vagrant package	</code></pre>
</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>24 May 2012</span> &raquo; <a href="/2012/05/24/git-inside-git">Git inside Git</a></li>
    
      <li><span>20 May 2012</span> &raquo; <a href="/2012/05/20/default-to-clang-on-mac-os-x">Default to clang on Mac OS X</a></li>
    
      <li><span>18 Apr 2012</span> &raquo; <a href="/2012/04/18/remote-iphone-packet-captures">Remote iPhone Packet Captures</a></li>
    
  </ul>
</div>




    <div class="footer">
      <div class="contact">
        <p>
          Vaibhav Bajpai<br />
          <a href='mailto:contact@vaibhavbajpai.com'>contact@vaibhavbajpai.com</a>
        </p>
      </div>
      <div class="contact">
        <p>
          <a href="http://github.com/vbajpai/">github.com/vbajpai</a><br />
          <a href="http://facebook.com/vaibhavbajpai/">facebook.com/vaibhavbajpai</a><br />
        </p>
      </div>
      <div class="rss">
        <a href="http://feeds.feedburner.com/feedname">
          <img src="/assets/themes/tom/images/rss.png" alt="Subscribe to RSS Feed" />
        </a>
      </div>
    </div>
  </div>
  <a href="http://github.com/vbajpai"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a>

  
</body>
</html>

